<!DOCTYPE html>
<html>
<head>
  <title>duh cat</title>
<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="/css/main.css" />

</head>

<body>

<div class="container" style="margin: auto">
  <div class="alert alert-info text-center" role="alert">
      <!-- This was inspired by a <a target="_blank" href="https://www.facebook.com/22Words/photos/a.10150283550282606.330098.189882407605/10153673035962606/?type=3">stupid facebook post</a> I saw. If you like it, <a href="http://twitter.com/4fthawaiian" target="_blank">say hi</a>. -->
      If you like this, <a href="http://twitter.com/4fthawaiian" target="_blank">say hi</a>.

  </div>
  <hr>
  <div class="row">
      <div class="col-md-6">
          <h3><span class="glyphicon glyphicon-info-sign"></span> Just put some text in below and hit enter :) </h3>
          <form id="oodle-form">
              <div class="input-group">
                  <!-- <span class="input-group-btn"><button type="reset" class="btn btn-default">reset</button></span> -->
                  <input type="text" class="form-control" id="duh">
                  <span class="input-group-btn"><button class="btn btn-default">go</button></span>
              </div>
          </form>
      </div>
  </div>
  <br>
  <div class="row">
      <div class="col-md-6">
          <div class="panel-group">
              <div class="panel panel-default">
                  <div class="panel-heading">Duh Cat:</div>
                  <div class="panel-body">
                      <img src="" id="duhcat" />
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<script>
    function uuidv4() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }

$( "#oodle-form" ).submit(function( event ) {
    if(!$('#duh').val()) return;
    originalValue = $('#duh').val();
    console.log(originalValue);
    $('#duhcat').attr('src', 'https://cataas.com/cat/cute/says/'+originalValue+'?width=400&string='+uuidv4());
    event.preventDefault();
});
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};
if(getUrlParameter('oodle') !== undefined) {
    $('#duh').val(getUrlParameter('oodle'));
    $( "#oodle-form" ).submit();
}
</script>

</body>
</html>

